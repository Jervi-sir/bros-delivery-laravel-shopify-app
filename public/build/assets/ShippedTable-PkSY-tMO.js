import{r as l,j as e}from"./App-lJcLEQj3.js";import{u as D,T as o,a as w}from"./useAxios-9_qVDjtr.js";import{I as i,L as I}from"./IndexTable-9or-nEvV.js";import{B as r}from"./Badge--r44bK65.js";import{S as L}from"./TextField-DfkA9q-F.js";const E=()=>{const{axios:p}=D(),[n,a]=l.useState(!0),[d,m]=l.useState([]),h=s=>s.map(t=>({id:t.id,order:`${t.order_id}`,is_delivered:t.delivery_status!="pending"?e.jsx(r,{progress:"complete",tone:"success",children:"Yes"}):e.jsx(r,{progress:"incomplete",children:"No"}),customer:`${t.customer_name}`,phone:`${t.customer_phone}`,item_title:`${t.product_title}`,item_price:`${t.product_price}`,delivery_price:`${t.delivery_price} DA`,total:`${t.total} DA`,delivery_method:`${t.delivery_company}`,shipping_address:`${t.delivery_address}`,wilaya:`${t.wilaya}`,zip:`${t.zip}`}));l.useEffect(()=>{p.get("/get-deliveries").then(s=>{console.log(s.data),m(h(s.data)),a(!1)}).catch(s=>{a(!1)})},[]);const x=d.map(({id:s,order:c,is_delivered:t,customer:j,phone:u,item_title:g,item_price:y,delivery_price:C,total:f,delivery_method:_,shipping_address:v,wilaya:$,zip:S},b)=>e.jsxs(i.Row,{id:s,position:b,children:[e.jsx(i.Cell,{children:e.jsx(o,{variant:"bodyMd",fontWeight:"bold",as:"span",children:c})}),e.jsx(i.Cell,{children:t}),e.jsx(i.Cell,{children:j}),e.jsx(i.Cell,{children:u}),e.jsx(i.Cell,{children:e.jsx(o,{as:"span",alignment:"start",numeric:!0,children:g})}),e.jsx(i.Cell,{children:y}),e.jsx(i.Cell,{children:C}),e.jsx(i.Cell,{children:f}),e.jsx(i.Cell,{children:_}),e.jsx(i.Cell,{children:v}),e.jsx(i.Cell,{children:e.jsx(r,{tone:"info-strong",children:$})}),e.jsx(i.Cell,{children:S})]},s));return e.jsxs(e.Fragment,{children:[n&&e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(L,{accessibilityLabel:"Spinner example",size:"large"})}),e.jsx("div",{hidden:n,children:e.jsx(I,{children:e.jsx(i,{condensed:w().smDown,itemCount:d.length,headings:[{title:"Order"},{title:"Delivered ?"},{title:"Customer"},{title:"Phone"},{title:"Item",alignment:"start"},{title:"Delivery Price"},{title:"Price"},{title:"Total Price"},{title:"Delivery method"},{title:"Address"},{title:"Wilaya"},{title:"Zip Code"}],children:x})})})]})};export{E as default};
