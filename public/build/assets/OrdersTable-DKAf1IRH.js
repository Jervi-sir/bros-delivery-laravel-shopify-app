import{r as d,R as t,j as C}from"./App-lJcLEQj3.js";import{M as je,c as M,W as Ee,b as le,T as ae,I as de,a as Ae,B as N,d as oe,e as Z,v as ve,w as Ye,f as Qe,u as Xe}from"./useAxios-9_qVDjtr.js";import{B as te,u as Je,h as he,E as ge,f as ue,K as pe,p as et,a as tt,b as nt,c as at,d as lt,e as ke,S as Oe,g as st,i as it,L as rt,j as ot}from"./TextField-DfkA9q-F.js";import{B as We,_ as ct,a as dt,b as ut,T as Te,c as mt,S as ft,d as ht,e as gt,f as pt,g as bt,P as Ct,A as Et,h as vt,K as be,u as xt,i as yt,C as St,j as kt,k as Tt,I,L as Pt}from"./IndexTable-9or-nEvV.js";import{B as _t,i as Ft,F as wt,T as Dt}from"./Toast-Nkl0pAhm.js";import{I as Mt}from"./InlineGrid-ImqbY0uP.js";import{B as ne}from"./Badge--r44bK65.js";import{F as Rt,C as It}from"./FormLayout-L2FP_CBw.js";let Q;(function(a){a.All="all",a.Page="page",a.Multi="multi",a.Single="single",a.Range="range"})(Q||(Q={}));function Pe(a){if("id"in a)return a.id;throw new Error("Your resource does not directly contain an `id`. Pass a `resourceIDResolver` to `useIndexResourceState`")}function Nt(a,{selectedResources:s=[],allResourcesSelected:n=!1,resourceIDResolver:e=Pe,resourceFilter:l=void 0}={selectedResources:[],allResourcesSelected:!1,resourceIDResolver:Pe,resourceFilter:void 0}){const[i,r]=d.useState(s),[c,o]=d.useState(n),u=d.useCallback((f,h,p,x)=>{switch(f===Q.All?o(h):c&&o(!1),f){case Q.Single:r(b=>h?[...b,p]:b.filter(S=>S!==p));break;case Q.All:case Q.Page:if(l){const b=a.filter(l);r(h&&i.length<b.length?b.map(e):[])}else r(h?a.map(e):[]);break;case Q.Multi:if(!p)break;r(b=>{const S=[],F=l?a.filter(l):a;for(let T=p[0];T<=p[1];T++)if(F.includes(a[T])){const y=e(a[T]);(h&&!b.includes(y)||!h&&b.includes(y))&&S.push(y)}return h?[...b,...S]:b.filter(T=>!S.includes(T))});break;case Q.Range:if(!p)break;r(b=>{const T=(l?a.filter(l):a).map(e).slice(Number(p[0]),Number(p[1])+1),y=T.some(_=>i.includes(_));return!T.every(_=>i.includes(_))&&(h||y)?[...new Set([...b,...T]).values()]:b.filter(_=>!T.includes(_))});break}},[c,l,i,a,e]),m=d.useCallback(()=>{r([]),o(!1)},[]),g=d.useCallback(f=>{const p=[...i].filter(x=>!f.includes(x));r(p),p.length===0&&o(!1)},[i]);return{selectedResources:i,allResourcesSelected:c,handleSelectionChange:u,clearSelection:m,removeSelectedResources:g}}const Ht=d.createContext(void 0),Bt=d.createContext(void 0);var Ve=function(s){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},s),t.createElement("path",{d:"M13.97 15.03a.75.75 0 1 0 1.06-1.06l-3.97-3.97 3.97-3.97a.75.75 0 0 0-1.06-1.06l-3.97 3.97-3.97-3.97a.75.75 0 0 0-1.06 1.06l3.97 3.97-3.97 3.97a.75.75 0 1 0 1.06 1.06l3.97-3.97 3.97 3.97Z"}))};Ve.displayName="CancelMajor";var $e=function(s){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},s),t.createElement("path",{d:"M13.97 15.03a.75.75 0 1 0 1.06-1.06l-3.97-3.97 3.97-3.97a.75.75 0 0 0-1.06-1.06l-3.97 3.97-3.97-3.97a.75.75 0 0 0-1.06 1.06l3.97 3.97-3.97 3.97a.75.75 0 1 0 1.06 1.06l3.97-3.97 3.97 3.97Z"}))};$e.displayName="CancelMinor";var Ue=function(s){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},s),t.createElement("path",{d:"M10 6a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5a.75.75 0 0 1 .75-.75Z"}),t.createElement("path",{d:"M11 13a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"}),t.createElement("path",{fillRule:"evenodd",d:"M11.237 3.177a1.75 1.75 0 0 0-2.474 0l-5.586 5.585a1.75 1.75 0 0 0 0 2.475l5.586 5.586a1.75 1.75 0 0 0 2.474 0l5.586-5.586a1.75 1.75 0 0 0 0-2.475l-5.586-5.585Zm-1.414 1.06a.25.25 0 0 1 .354 0l5.586 5.586a.25.25 0 0 1 0 .354l-5.586 5.585a.25.25 0 0 1-.354 0l-5.586-5.585a.25.25 0 0 1 0-.354l5.586-5.586Z"}))};Ue.displayName="DiamondAlertMinor";var ze=function(s){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},s),t.createElement("path",{d:"M11 6.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"}),t.createElement("path",{d:"M10.75 9.25a.75.75 0 0 0-1.5 0v4.5a.75.75 0 0 0 1.5 0v-4.5Z"}),t.createElement("path",{fillRule:"evenodd",d:"M10 17a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0-1.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11Z"}))};ze.displayName="InfoMinor";var Ze=function(s){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},s),t.createElement("path",{d:"M10 6.75a.75.75 0 0 1 .75.75v3.5a.75.75 0 1 1-1.5 0v-3.5a.75.75 0 0 1 .75-.75Z"}),t.createElement("path",{d:"M11 13.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"}),t.createElement("path",{fillRule:"evenodd",d:"M10 3.5c-1.045 0-1.784.702-2.152 1.447a449.26 449.26 0 0 1-2.005 3.847l-.028.052a403.426 403.426 0 0 0-2.008 3.856c-.372.752-.478 1.75.093 2.614.57.863 1.542 1.184 2.464 1.184h7.272c.922 0 1.895-.32 2.464-1.184.57-.864.465-1.862.093-2.614-.21-.424-1.113-2.147-2.004-3.847l-.032-.061a429.497 429.497 0 0 1-2.005-3.847c-.368-.745-1.107-1.447-2.152-1.447Zm-.808 2.112c.404-.816 1.212-.816 1.616 0 .202.409 1.112 2.145 2.022 3.88a418.904 418.904 0 0 1 2.018 3.875c.404.817 0 1.633-1.212 1.633h-7.272c-1.212 0-1.617-.816-1.212-1.633.202-.408 1.113-2.147 2.023-3.883a421.932 421.932 0 0 0 2.017-3.872Z"}))};Ze.displayName="RiskMinor";var qe=function(s){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},s),t.createElement("path",{fillRule:"evenodd",d:"M15.78 5.97a.75.75 0 0 1 0 1.06l-6.5 6.5a.75.75 0 0 1-1.06 0l-3.25-3.25a.75.75 0 1 1 1.06-1.06l2.72 2.72 5.97-5.97a.75.75 0 0 1 1.06 0Z"}))};qe.displayName="TickMinor";var me={Backdrop:"Polaris-Backdrop",transparent:"Polaris-Backdrop--transparent",belowNavigation:"Polaris-Backdrop--belowNavigation"};function Lt(){const a=d.useContext(Ht);if(!a)throw new je("No ScrollLockManager was provided.");return a}function jt(a){const s=Lt();return d.useEffect(()=>(s.registerScrollLock(),()=>{s.unregisterScrollLock()}),[s]),null}function At(a){const{onClick:s,onTouchStart:n,belowNavigation:e,transparent:l,setClosing:i}=a,r=M(me.Backdrop,e&&me.belowNavigation,l&&me.transparent),c=()=>{i&&i(!0)},o=()=>{i&&i(!1),s&&s()};return t.createElement(t.Fragment,null,t.createElement(jt,null),t.createElement("div",{className:r,onClick:o,onTouchStart:n,onMouseDown:c}))}var J={Banner:"Polaris-Banner",keyFocused:"Polaris-Banner--keyFocused",withinContentContainer:"Polaris-Banner--withinContentContainer",withinPage:"Polaris-Banner--withinPage",DismissIcon:"Polaris-Banner__DismissIcon","text-success-on-bg-fill":"Polaris-Banner--textSuccessOnBgFill","text-success":"Polaris-Banner__text--success","text-warning-on-bg-fill":"Polaris-Banner--textWarningOnBgFill","text-warning":"Polaris-Banner__text--warning","text-critical-on-bg-fill":"Polaris-Banner--textCriticalOnBgFill","text-critical":"Polaris-Banner__text--critical","text-info-on-bg-fill":"Polaris-Banner--textInfoOnBgFill","text-info":"Polaris-Banner__text--info","icon-secondary":"Polaris-Banner__icon--secondary"};const fe={success:{withinPage:{background:"bg-fill-success",text:"text-success-on-bg-fill",icon:"text-success-on-bg-fill"},withinContentContainer:{background:"bg-surface-success",text:"text-success",icon:"text-success"},icon:qe},warning:{withinPage:{background:"bg-fill-warning",text:"text-warning-on-bg-fill",icon:"text-warning-on-bg-fill"},withinContentContainer:{background:"bg-surface-warning",text:"text-warning",icon:"text-warning"},icon:Ze},critical:{withinPage:{background:"bg-fill-critical",text:"text-critical-on-bg-fill",icon:"text-critical-on-bg-fill"},withinContentContainer:{background:"bg-surface-critical",text:"text-critical",icon:"text-critical"},icon:Ue},info:{withinPage:{background:"bg-fill-info",text:"text-info-on-bg-fill",icon:"text-info-on-bg-fill"},withinContentContainer:{background:"bg-surface-info",text:"text-info",icon:"text-info"},icon:ze}};function Ot(a){const s=d.useRef(null),[n,e]=d.useState(!1);return d.useImperativeHandle(a,()=>({focus:()=>{var c;(c=s.current)==null||c.focus(),e(!0)}}),[]),{wrapperRef:s,handleKeyUp:c=>{c.target===s.current&&e(!0)},handleBlur:()=>e(!1),handleMouseUp:c=>{c.currentTarget.blur(),e(!1)},shouldShowFocus:n}}const Wt=d.forwardRef(function(s,n){const{tone:e,stopAnnouncements:l}=s,i=d.useContext(Ee),{wrapperRef:r,handleKeyUp:c,handleBlur:o,handleMouseUp:u,shouldShowFocus:m}=Ot(n),g=M(J.Banner,m&&J.keyFocused,i?J.withinContentContainer:J.withinPage);return t.createElement(_t.Provider,{value:!0},t.createElement("div",{className:g,tabIndex:0,ref:r,role:e==="warning"||e==="critical"?"alert":"status","aria-live":l?"off":"polite",onMouseUp:u,onKeyUp:c,onBlur:o},t.createElement(Vt,s)))});function Vt({tone:a="info",icon:s,hideIcon:n,onDismiss:e,action:l,secondaryAction:i,title:r,children:c}){const o=le(),u=d.useContext(Ee),m=!r&&!u,g=Object.keys(fe).includes(a)?a:"info",f=fe[g][u?"withinContentContainer":"withinPage"],h={backgroundColor:f.background,textColor:f.text,bannerTitle:r?t.createElement(ae,{as:"h2",variant:"headingSm",breakWord:!0},r):null,bannerIcon:n?null:t.createElement("span",{className:J[f.icon]},t.createElement(de,{source:s??fe[g].icon})),actionButtons:l||i?t.createElement(We,null,l&&t.createElement(te,Object.assign({onClick:l.onAction},l),l.content),i&&t.createElement(te,Object.assign({onClick:i.onAction},i),i.content)):null,dismissButton:e?t.createElement(te,{variant:"tertiary",icon:t.createElement("span",{className:J[m?"icon-secondary":f.icon]},t.createElement(de,{source:$e})),onClick:e,accessibilityLabel:o.translate("Polaris.Banner.dismissButton")}):null};return u?t.createElement(zt,h,c):m?t.createElement(Ut,h,c):t.createElement($t,h,c)}function $t({backgroundColor:a,textColor:s,bannerTitle:n,bannerIcon:e,actionButtons:l,dismissButton:i,children:r}){const{smUp:c}=Ae(),o=r||l;return t.createElement(N,{width:"100%"},t.createElement(oe,{align:"space-between"},t.createElement(N,{background:a,color:s,borderStartStartRadius:c?"300":void 0,borderStartEndRadius:c?"300":void 0,borderEndStartRadius:!o&&c?"300":void 0,borderEndEndRadius:!o&&c?"300":void 0,padding:"300"},t.createElement(Z,{align:"space-between",blockAlign:"center",gap:"200",wrap:!1},t.createElement(Z,{gap:"100",wrap:!1},e,n),i)),o&&t.createElement(N,{padding:{xs:"300",md:"400"},paddingBlockStart:"300"},t.createElement(oe,{gap:"200"},t.createElement("div",null,r),l))))}function Ut({backgroundColor:a,bannerIcon:s,actionButtons:n,dismissButton:e,children:l}){const[i,r]=d.useState("center"),c=d.useRef(null),o=d.useRef(null),u=d.useRef(null),m=d.useCallback(()=>{var h,p,x;const g=(h=c.current)==null?void 0:h.offsetHeight,f=((p=o.current)==null?void 0:p.offsetHeight)||((x=u.current)==null?void 0:x.offsetHeight);!g||!f||(g>f?r("start"):r("center"))},[]);return d.useEffect(()=>m(),[m]),Je("resize",m),t.createElement(N,{width:"100%",padding:"300",borderRadius:"300"},t.createElement(Z,{align:"space-between",blockAlign:i,wrap:!1},t.createElement(N,{width:"100%"},t.createElement(Z,{gap:"200",wrap:!1,blockAlign:i},s?t.createElement("div",{ref:o},t.createElement(N,{background:a,borderRadius:"200",padding:"100"},s)):null,t.createElement(N,{ref:c,width:"100%"},t.createElement(oe,{gap:"200"},t.createElement("div",null,l),n)))),t.createElement("div",{ref:u,className:J.DismissIcon},e)))}function zt({backgroundColor:a,textColor:s,bannerTitle:n,bannerIcon:e,actionButtons:l,dismissButton:i,children:r}){return t.createElement(N,{width:"100%",background:a,padding:"200",borderRadius:"200",color:s},t.createElement(Z,{align:"space-between",blockAlign:"start",wrap:!1,gap:"200"},t.createElement(Z,{gap:"150",wrap:!1},e,t.createElement(N,{width:"100%"},t.createElement(oe,{gap:"200"},t.createElement(oe,{gap:"050"},n,t.createElement("div",null,r)),l))),i))}function Zt(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function xe(a,s){var n=function(i){return s&&d.isValidElement(i)?s(i):i},e=Object.create(null);return a&&d.Children.map(a,function(l){return l}).forEach(function(l){e[l.key]=n(l)}),e}function qt(a,s){a=a||{},s=s||{};function n(m){return m in s?s[m]:a[m]}var e=Object.create(null),l=[];for(var i in a)i in s?l.length&&(e[i]=l,l=[]):l.push(i);var r,c={};for(var o in s){if(e[o])for(r=0;r<e[o].length;r++){var u=e[o][r];c[e[o][r]]=n(u)}c[o]=n(o)}for(r=0;r<l.length;r++)c[l[r]]=n(l[r]);return c}function ee(a,s,n){return n[s]!=null?n[s]:a.props[s]}function Kt(a,s){return xe(a.children,function(n){return d.cloneElement(n,{onExited:s.bind(null,n),in:!0,appear:ee(n,"appear",a),enter:ee(n,"enter",a),exit:ee(n,"exit",a)})})}function Gt(a,s,n){var e=xe(a.children),l=qt(s,e);return Object.keys(l).forEach(function(i){var r=l[i];if(d.isValidElement(r)){var c=i in s,o=i in e,u=s[i],m=d.isValidElement(u)&&!u.props.in;o&&(!c||m)?l[i]=d.cloneElement(r,{onExited:n.bind(null,r),in:!0,exit:ee(r,"exit",a),enter:ee(r,"enter",a)}):!o&&c&&!m?l[i]=d.cloneElement(r,{in:!1}):o&&c&&d.isValidElement(u)&&(l[i]=d.cloneElement(r,{onExited:n.bind(null,r),in:u.props.in,exit:ee(r,"exit",a),enter:ee(r,"enter",a)}))}}),l}var Yt=Object.values||function(a){return Object.keys(a).map(function(s){return a[s]})},Qt={component:"div",childFactory:function(s){return s}},ye=function(a){ct(s,a);function s(e,l){var i;i=a.call(this,e,l)||this;var r=i.handleExited.bind(Zt(i));return i.state={contextValue:{isMounting:!0},handleExited:r,firstRender:!0},i}var n=s.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},s.getDerivedStateFromProps=function(l,i){var r=i.children,c=i.handleExited,o=i.firstRender;return{children:o?Kt(l,c):Gt(l,r,c),firstRender:!1}},n.handleExited=function(l,i){var r=xe(this.props.children);l.key in r||(l.props.onExited&&l.props.onExited(i),this.mounted&&this.setState(function(c){var o=dt({},c.children);return delete o[l.key],{children:o}}))},n.render=function(){var l=this.props,i=l.component,r=l.childFactory,c=ut(l,["component","childFactory"]),o=this.state.contextValue,u=Yt(this.state.children).map(r);return delete c.appear,delete c.enter,delete c.exit,i===null?t.createElement(Te.Provider,{value:o},u):t.createElement(Te.Provider,{value:o},t.createElement(i,c,u))},s}(t.Component);ye.propTypes={};ye.defaultProps=Qt;const Xt=ye;function Jt(a){return function(s,n){const{firstVisibleColumnIndex:e,tableLeftVisibleEdge:l,tableRightVisibleEdge:i}=a,r=s.offsetLeft,c=r+s.offsetWidth,o=_e(r,l,i,"left"),u=_e(c,l,i,"right"),m=o||u,g=s.offsetWidth;return m&&(a.firstVisibleColumnIndex=Math.min(e,n)),{leftEdge:r,rightEdge:c,isVisible:m,width:g,index:n}}}function _e(a,s,n,e){return a>=s+(e==="left"?0:30)&&a<=n-30}function en(a,s){const{firstVisibleColumnIndex:n}=a,e=Math.max(n-1,0),l=s[e],i=s[n];return{previousColumn:l,currentColumn:i}}var v={DataTable:"Polaris-DataTable",condensed:"Polaris-DataTable--condensed",Navigation:"Polaris-DataTable__Navigation",Pip:"Polaris-DataTable__Pip","Pip-visible":"Polaris-DataTable__Pip--visible",ScrollContainer:"Polaris-DataTable__ScrollContainer",Table:"Polaris-DataTable__Table",TableRow:"Polaris-DataTable__TableRow",Cell:"Polaris-DataTable__Cell",IncreasedTableDensity:"Polaris-DataTable__IncreasedTableDensity",ZebraStripingOnData:"Polaris-DataTable__ZebraStripingOnData",RowCountIsEven:"Polaris-DataTable__RowCountIsEven",ShowTotalsInFooter:"Polaris-DataTable__ShowTotalsInFooter","Cell-separate":"Polaris-DataTable__Cell--separate","Cell-firstColumn":"Polaris-DataTable__Cell--firstColumn","Cell-numeric":"Polaris-DataTable__Cell--numeric","Cell-truncated":"Polaris-DataTable__Cell--truncated","Cell-header":"Polaris-DataTable__Cell--header","Cell-sortable":"Polaris-DataTable__Cell--sortable","Heading-left":"Polaris-DataTable__Heading--left","Cell-verticalAlignTop":"Polaris-DataTable__Cell--verticalAlignTop","Cell-verticalAlignBottom":"Polaris-DataTable__Cell--verticalAlignBottom","Cell-verticalAlignMiddle":"Polaris-DataTable__Cell--verticalAlignMiddle","Cell-verticalAlignBaseline":"Polaris-DataTable__Cell--verticalAlignBaseline",hoverable:"Polaris-DataTable--hoverable","Cell-hovered":"Polaris-DataTable__Cell--hovered",Icon:"Polaris-DataTable__Icon",Heading:"Polaris-DataTable__Heading",StickyHeaderEnabled:"Polaris-DataTable__StickyHeaderEnabled",StickyHeaderWrapper:"Polaris-DataTable__StickyHeaderWrapper","Cell-sorted":"Polaris-DataTable__Cell--sorted","Cell-total":"Polaris-DataTable__Cell--total",ShowTotals:"Polaris-DataTable__ShowTotals","Cell-total-footer":"Polaris-DataTable--cellTotalFooter",Footer:"Polaris-DataTable__Footer",StickyHeaderInner:"Polaris-DataTable__StickyHeaderInner","StickyHeaderInner-isSticky":"Polaris-DataTable__StickyHeaderInner--isSticky",StickyHeaderTable:"Polaris-DataTable__StickyHeaderTable",FixedFirstColumn:"Polaris-DataTable__FixedFirstColumn",StickyTableHeadingsRow:"Polaris-DataTable__StickyTableHeadingsRow",TooltipContent:"Polaris-DataTable__TooltipContent"};function re({content:a,contentType:s,nthColumn:n,firstColumn:e,truncate:l,header:i,total:r,totalInFooter:c,sorted:o,sortable:u,sortDirection:m,inFixedNthColumn:g,verticalAlign:f="top",defaultSortDirection:h="ascending",onSort:p,colSpan:x,setRef:b=()=>{},stickyHeadingCell:S=!1,stickyCellWidth:F,hovered:T=!1,handleFocus:y=()=>{},hasFixedNthColumn:L=!1,fixedCellVisible:A=!1,firstColumnMinWidth:P,style:_,lastFixedFirstColumn:R}){const j=le(),D=s==="numeric",E=M(v.Cell,v[`Cell-${ve("verticalAlign",f)}`],e&&v["Cell-firstColumn"],l&&v["Cell-truncated"],i&&v["Cell-header"],r&&v["Cell-total"],c&&v["Cell-total-footer"],D&&v["Cell-numeric"],u&&v["Cell-sortable"],o&&v["Cell-sorted"],S&&v.StickyHeaderCell,T&&v["Cell-hovered"],R&&g&&A&&v["Cell-separate"],n&&g&&S&&v.FixedFirstColumn),U=M(i&&v.Heading,i&&s==="text"&&v["Heading-left"]),V=M(u&&v.Icon),z=o&&m?m:h,G=z==="descending"?ft:ht,Y=m==="ascending"?"descending":"ascending",O=j.translate("Polaris.DataTable.sortAccessibilityLabel",{direction:o?Y:z}),q=t.createElement("span",{className:V},t.createElement(de,{source:G,accessibilityLabel:O})),X=!(S&&L&&n&&!g),H=u?t.createElement("button",{className:U,onClick:p,onFocus:y,tabIndex:X?0:-1},q,a):a,W=x&&x>1?{colSpan:x}:{},k=n&&P?{minWidth:P}:{minWidth:F},w=t.createElement("th",Object.assign({ref:b},he.props,W,{className:E,"aria-sort":m,style:{..._,...k},"data-index-table-sticky-heading":!0}),H),se=i?t.createElement("th",Object.assign({},he.props,{"aria-sort":m},W,{ref:b,className:E,scope:"col",style:{...k}}),H):t.createElement("th",Object.assign({},W,{ref:b,className:E,scope:"row",style:{...k}}),l?t.createElement(tn,{className:v.TooltipContent},a):a),ie=i||e||n?se:t.createElement("td",Object.assign({className:E},W),a);return S?w:ie}const tn=({children:a,className:s=""})=>{const n=d.useRef(null),{current:e}=n,l=t.createElement("span",{ref:n,className:s},a);return(e==null?void 0:e.scrollWidth)>(e==null?void 0:e.offsetWidth)?t.createElement(mt,{content:n.current.innerText},l):l};function nn({columnVisibilityData:a,isScrolledFarthestLeft:s,isScrolledFarthestRight:n,navigateTableLeft:e,navigateTableRight:l,fixedFirstColumns:i,setRef:r=()=>{}}){const c=le(),o=a.map((g,f)=>{if(f<i)return;const h=M(v.Pip,g.isVisible&&v["Pip-visible"]);return t.createElement("div",{className:h,key:`pip-${f}`})}),u=c.translate("Polaris.DataTable.navAccessibilityLabel",{direction:"left"}),m=c.translate("Polaris.DataTable.navAccessibilityLabel",{direction:"right"});return t.createElement("div",{className:v.Navigation,ref:r},t.createElement(te,{variant:"tertiary",icon:gt,disabled:s,accessibilityLabel:u,onClick:e}),o,t.createElement(te,{variant:"tertiary",icon:pt,disabled:n,accessibilityLabel:m,onClick:l}))}const Fe=a=>{const s=[];return a&&a.forEach(n=>{s.push(n.clientHeight)}),s};class an extends d.PureComponent{constructor(...s){super(...s),this.state={condensed:!1,columnVisibilityData:[],isScrolledFarthestLeft:!0,isScrolledFarthestRight:!1,rowHovered:void 0},this.dataTable=d.createRef(),this.scrollContainer=d.createRef(),this.table=d.createRef(),this.stickyTable=d.createRef(),this.stickyNav=null,this.headerNav=null,this.tableHeadings=[],this.stickyHeadings=[],this.tableHeadingWidths=[],this.stickyHeaderActive=!1,this.scrollStopTimer=null,this.handleResize=bt(()=>{const{table:{current:n},scrollContainer:{current:e}}=this;let l=!1;n&&e&&(l=n.scrollWidth>e.clientWidth+1),this.setState({condensed:l,...this.calculateColumnVisibilityData(l)})}),this.setCellRef=({ref:n,index:e,inStickyHeader:l})=>{if(n!=null)if(l){this.stickyHeadings[e]=n;const i=n.querySelector("button");if(i==null)return;i.addEventListener("focus",this.handleHeaderButtonFocus)}else this.tableHeadings[e]=n,this.tableHeadingWidths[e]=n.clientWidth},this.changeHeadingFocus=()=>{const{tableHeadings:n,stickyHeadings:e,stickyNav:l,headerNav:i}=this,r=e.findIndex(h=>{var p;return h===((p=document.activeElement)==null?void 0:p.parentElement)}),c=n.findIndex(h=>{var p;return h===((p=document.activeElement)==null?void 0:p.parentElement)}),o=l==null?void 0:l.querySelectorAll("button"),u=i==null?void 0:i.querySelectorAll("button");let m=-1;o==null||o.forEach((h,p)=>{h===document.activeElement&&(m=p)});let g=-1;if(u==null||u.forEach((h,p)=>{h===document.activeElement&&(g=p)}),r<0&&c<0&&m<0&&g<0)return null;let f;if(r>=0?f=n[r].querySelector("button"):c>=0&&(f=e[c].querySelector("button")),m>=0?f=u==null?void 0:u[m]:g>=0&&(f=o==null?void 0:o[g]),f==null)return null;f.style.visibility="visible",f.focus(),f.style.removeProperty("visibility")},this.calculateColumnVisibilityData=n=>{const e=this.fixedFirstColumns(),{table:{current:l},scrollContainer:{current:i},dataTable:{current:r}}=this,{stickyHeader:c}=this.props;if((c||n)&&l&&i&&r){const o=l.querySelectorAll(he.selector),u=o[e-1],m=e?u.offsetLeft+u.offsetWidth:0;if(o.length>0){const g=o.length-1,f=i.scrollLeft+m,h=i.scrollLeft+r.offsetWidth,p={firstVisibleColumnIndex:g,tableLeftVisibleEdge:f,tableRightVisibleEdge:h},x=[...o].map(Jt(p)),b=x[x.length-1],S=e?f===m:f===0;return{columnVisibilityData:x,...en(p,x),isScrolledFarthestLeft:S,isScrolledFarthestRight:b.rightEdge<=h}}}return{columnVisibilityData:[],previousColumn:void 0,currentColumn:void 0}},this.handleHeaderButtonFocus=n=>{var f;const e=this.fixedFirstColumns();if(this.scrollContainer.current==null||n.target==null||this.state.columnVisibilityData.length===0)return;const i=n.target.parentNode,r=this.scrollContainer.current.scrollLeft,c=this.scrollContainer.current.offsetWidth,o=r+c,u=this.state.columnVisibilityData.length>0?(f=this.state.columnVisibilityData[e])==null?void 0:f.rightEdge:0,m=i.offsetLeft,g=i.offsetLeft+i.offsetWidth;r>m-u&&(this.scrollContainer.current.scrollLeft=m-u),g>o&&(this.scrollContainer.current.scrollLeft=g-c)},this.stickyHeaderScrolling=()=>{const{current:n}=this.stickyTable,{current:e}=this.scrollContainer;n==null||e==null||(n.scrollLeft=e.scrollLeft)},this.scrollListener=()=>{var n;this.scrollStopTimer&&clearTimeout(this.scrollStopTimer),this.scrollStopTimer=setTimeout(()=>{this.setState(e=>({...this.calculateColumnVisibilityData(e.condensed)}))},100),this.setState({isScrolledFarthestLeft:((n=this.scrollContainer.current)==null?void 0:n.scrollLeft)===0}),this.props.stickyHeader&&this.stickyHeaderActive&&this.stickyHeaderScrolling()},this.handleHover=n=>()=>{this.setState({rowHovered:n})},this.handleFocus=n=>{var u;const e=this.fixedFirstColumns();if(this.scrollContainer.current==null||n.target==null)return;const l=n.target.parentNode,r=this.props?(u=this.state.columnVisibilityData[e])==null?void 0:u.rightEdge:0,o=l.offsetLeft-r;this.scrollContainer.current.scrollLeft>o&&(this.scrollContainer.current.scrollLeft=o)},this.navigateTable=n=>{var m;const e=this.fixedFirstColumns(),{currentColumn:l,previousColumn:i}=this.state,r=(m=this.state.columnVisibilityData[e-1])==null?void 0:m.rightEdge;if(!l||!i)return;let c=0;for(let g=0;g<l.index;g++)c+=this.state.columnVisibilityData[g].width;const{current:o}=this.scrollContainer;return()=>{let g=0;e?g=n==="right"?c-r+l.width:c-i.width-r:g=n==="right"?l.rightEdge:i.leftEdge,o&&(o.scrollLeft=g,requestAnimationFrame(()=>{this.setState(f=>({...this.calculateColumnVisibilityData(f.condensed)}))}))}},this.renderHeading=({heading:n,headingIndex:e,inFixedNthColumn:l,inStickyHeader:i})=>{var _;const{sortable:r,truncate:c=!1,columnContentTypes:o,defaultSortDirection:u,initialSortColumnIndex:m=0,verticalAlign:g,firstColumnMinWidth:f}=this.props,h=this.fixedFirstColumns(),{sortDirection:p=u,sortedColumnIndex:x=m,isScrolledFarthestLeft:b}=this.state;let S;const F=`heading-cell-${e}`,T=`stickyheader-${e}`,y=i?T:F;if(r){const R=r[e],j=R&&x===e;S={defaultSortDirection:u,sorted:j,sortable:R,sortDirection:j?p:"none",onSort:this.defaultOnSort(e),fixedNthColumn:h,inFixedNthColumn:h}}const L=i?this.tableHeadingWidths[e]:void 0,A=!b,P={header:!0,stickyHeadingCell:i,content:n,contentType:o[e],nthColumn:e<h,fixedFirstColumns:h,truncate:c,headingIndex:e,...S,verticalAlign:g,handleFocus:this.handleFocus,stickyCellWidth:L,fixedCellVisible:A,firstColumnMinWidth:f};return l&&i?[t.createElement(re,Object.assign({key:y},P,{setRef:R=>{this.setCellRef({ref:R,index:e,inStickyHeader:i})},inFixedNthColumn:!1})),t.createElement(re,Object.assign({key:`${y}-sticky`},P,{setRef:R=>{this.setCellRef({ref:R,index:e,inStickyHeader:i})},inFixedNthColumn:!!h,lastFixedFirstColumn:e===h-1,style:{left:(_=this.state.columnVisibilityData[e])==null?void 0:_.leftEdge}}))]:t.createElement(re,Object.assign({key:y},P,{setRef:R=>{this.setCellRef({ref:R,index:e,inStickyHeader:i})},lastFixedFirstColumn:e===h-1,inFixedNthColumn:l}))},this.totalsRowHeading=()=>{const{i18n:n,totals:e,totalsName:l}=this.props,i=l||{singular:n.translate("Polaris.DataTable.totalRowHeading"),plural:n.translate("Polaris.DataTable.totalsRowHeading")};return e&&e.filter(r=>r!=="").length>1?i.plural:i.singular},this.renderTotals=({total:n,index:e})=>{const l=this.fixedFirstColumns(),i=`totals-cell-${e}`,{truncate:r=!1,verticalAlign:c,columnContentTypes:o}=this.props;let u,m;e===0&&(u=this.totalsRowHeading()),n!==""&&e>0&&(m=o[e],u=n);const g=this.props.showTotalsInFooter;return t.createElement(re,{total:!0,totalInFooter:g,nthColumn:e<=l-1,firstColumn:e===0,key:i,content:u,contentType:m,truncate:r,verticalAlign:c})},this.getColSpan=(n,e,l,i)=>{if(this.fixedFirstColumns())return 1;const c=n||1,o=e||l,u=Math.floor(o/c),m=o%c;return i===0?u+m:u},this.defaultRenderRow=({row:n,index:e,inFixedNthColumn:l,rowHeights:i})=>{const{columnContentTypes:r,truncate:c=!1,verticalAlign:o,hoverable:u=!0,headings:m}=this.props,{condensed:g}=this.state,f=this.fixedFirstColumns(),h=M(v.TableRow,u&&v.hoverable);return t.createElement("tr",{key:`row-${e}`,className:h,onMouseEnter:this.handleHover(e),onMouseLeave:this.handleHover()},n.map((p,x)=>{const b=e===this.state.rowHovered,S=`cell-${x}-row-${e}`,F=this.getColSpan(n.length,m.length,r.length,x);return t.createElement(re,{key:S,content:p,contentType:r[x],nthColumn:x<=f-1,firstColumn:x===0,truncate:c,verticalAlign:o,colSpan:F,hovered:b,style:i?{height:`${i[e]}px`}:{},inFixedNthColumn:g&&l})}))},this.defaultOnSort=n=>{const{onSort:e,defaultSortDirection:l="ascending",initialSortColumnIndex:i}=this.props,{sortDirection:r=l,sortedColumnIndex:c=i}=this.state;let o=l;return c===n&&(o=r==="ascending"?"descending":"ascending"),()=>{this.setState({sortDirection:o,sortedColumnIndex:n},()=>{e&&e(n,o)})}}}componentDidMount(){this.handleResize()}componentDidUpdate(s){Ft(s,this.props)||this.handleResize()}componentWillUnmount(){this.handleResize.cancel()}render(){var $,H,W;const{headings:s,totals:n,showTotalsInFooter:e,rows:l,footerContent:i,hideScrollIndicator:r=!1,increasedTableDensity:c=!1,hasZebraStripingOnData:o=!1,stickyHeader:u=!1,hasFixedFirstColumn:m=!1,pagination:g}=this.props,{condensed:f,columnVisibilityData:h,isScrolledFarthestLeft:p,isScrolledFarthestRight:x}=this.state,b=this.fixedFirstColumns(),S=l.length%2===0,F=M(v.DataTable,f&&v.condensed,n&&v.ShowTotals,e&&v.ShowTotalsInFooter,o&&v.ZebraStripingOnData,o&&S&&v.RowCountIsEven),T=M(v.TableWrapper,f&&v.condensed,c&&v.IncreasedTableDensity,u&&v.StickyHeaderEnabled),y=t.createElement("tr",null,s.map((k,w)=>this.renderHeading({heading:k,headingIndex:w,inFixedNthColumn:!1,inStickyHeader:!1}))),L=n?t.createElement("tr",null,n.map((k,w)=>this.renderTotals({total:k,index:w}))):null,A=l.map(k=>k.slice(0,b)),P=s.slice(0,b),_=n==null?void 0:n.slice(0,b),R=($=this.table.current)==null?void 0:$.children[0].childNodes,j=(H=this.table.current)==null?void 0:H.children[1].childNodes,D=Fe(R),E=Fe(j),U=f&&b!==0&&t.createElement("table",{className:M(v.FixedFirstColumn,!p&&v.separate),style:{width:`${(W=h[b-1])==null?void 0:W.rightEdge}px`}},t.createElement("thead",null,t.createElement("tr",{style:{height:`${D[0]}px`}},P.map((k,w)=>this.renderHeading({heading:k,headingIndex:w,inFixedNthColumn:!0,inStickyHeader:!1}))),n&&!e&&t.createElement("tr",{style:{height:`${D[1]}px`}},_==null?void 0:_.map((k,w)=>this.renderTotals({total:k,index:w})))),t.createElement("tbody",null,A.map((k,w)=>this.defaultRenderRow({row:k,index:w,inFixedNthColumn:!0,rowHeights:E}))),n&&e&&t.createElement("tfoot",null,t.createElement("tr",null,_==null?void 0:_.map((k,w)=>this.renderTotals({total:k,index:w}))))),V=l.map((k,w)=>this.defaultRenderRow({row:k,index:w,inFixedNthColumn:!1})),z=i?t.createElement("div",{className:v.Footer},i):null,G=g?t.createElement(Ct,Object.assign({type:"table"},g)):null,Y=e?null:L,O=e?t.createElement("tfoot",null,L):null,q=k=>r?null:t.createElement(nn,{columnVisibilityData:h,isScrolledFarthestLeft:p,isScrolledFarthestRight:x,navigateTableLeft:this.navigateTable("left"),navigateTableRight:this.navigateTable("right"),fixedFirstColumns:b,setRef:w=>{k==="header"?this.headerNav=w:k==="sticky"&&(this.stickyNav=w)}}),X=u?t.createElement(Et,null,t.createElement("div",{className:v.StickyHeaderWrapper,role:"presentation"},t.createElement(vt,{boundingElement:this.dataTable.current,onStickyChange:k=>{this.changeHeadingFocus(),this.stickyHeaderActive=k}},k=>{const w=M(v.StickyHeaderInner,k&&v["StickyHeaderInner-isSticky"]),se=M(v.StickyHeaderTable,!p&&v.separate);return t.createElement("div",{className:w},t.createElement("div",null,q("sticky")),t.createElement("table",{className:se,ref:this.stickyTable},t.createElement("thead",null,t.createElement("tr",{className:v.StickyTableHeadingsRow},s.map((ie,ce)=>this.renderHeading({heading:ie,headingIndex:ce,inFixedNthColumn:!!(ce<=b-1&&b),inStickyHeader:!0}))))))}))):null;return t.createElement("div",{className:T,ref:this.dataTable},X,q("header"),t.createElement("div",{className:F},t.createElement("div",{className:v.ScrollContainer,ref:this.scrollContainer},t.createElement(ge,{event:"resize",handler:this.handleResize}),t.createElement(ge,{capture:!0,passive:!0,event:"scroll",handler:this.scrollListener}),U,t.createElement("table",{className:v.Table,ref:this.table},t.createElement("thead",null,y,Y),t.createElement("tbody",null,V),O)),G,z))}fixedFirstColumns(){const{hasFixedFirstColumn:s,fixedFirstColumns:n=0,headings:e}=this.props,l=s&&!n?1:n;return l>=e.length?0:l}}function ln(a){const s=le();return t.createElement(an,Object.assign({},a,{i18n:s}))}const sn=d.memo(function({children:s,disabled:n,root:e}){return d.useEffect(()=>{if(n||!e)return;const l=rn(e)?e.current:e;!l||l.querySelector("[autofocus]")||ue(l,!1)},[n,e]),t.createElement(t.Fragment,null,s)});function rn(a){return a.current!==void 0}var we={Body:"Polaris-Modal__Body",IFrame:"Polaris-Modal__IFrame"},De={Section:"Polaris-Modal-Section",titleHidden:"Polaris-Modal-Section--titleHidden"};function Ke({children:a,flush:s=!1,subdued:n=!1,titleHidden:e=!1}){const l=M(De.Section,e&&De.titleHidden);return t.createElement("div",{className:l},t.createElement(N,Object.assign({as:"section",padding:s?"0":"400"},e&&{paddingInlineEnd:"0"},n&&{background:"bg-surface-tertiary"}),a))}var B={Container:"Polaris-Modal-Dialog__Container",Dialog:"Polaris-Modal-Dialog",Modal:"Polaris-Modal-Dialog__Modal",limitHeight:"Polaris-Modal-Dialog--limitHeight",sizeSmall:"Polaris-Modal-Dialog--sizeSmall",sizeLarge:"Polaris-Modal-Dialog--sizeLarge",sizeFullScreen:"Polaris-Modal-Dialog--sizeFullScreen",animateFadeUp:"Polaris-Modal-Dialog--animateFadeUp",entering:"Polaris-Modal-Dialog--entering",exiting:"Polaris-Modal-Dialog--exiting",exited:"Polaris-Modal-Dialog--exited",entered:"Polaris-Modal-Dialog--entered"};function on({trapping:a}){const s=d.useContext(Bt),n=d.useId();if(!s)throw new je("No FocusManager was provided.");const{trapFocusList:e,add:l,remove:i}=s,r=e[0]===n,c=d.useMemo(()=>({canSafelyFocus:r}),[r]);return d.useEffect(()=>{if(a)return l(n),()=>{i(n)}},[l,n,i,a]),c}function cn({trapping:a=!0,children:s}){const{canSafelyFocus:n}=on({trapping:a}),e=d.useRef(null),[l,i]=d.useState(!0);d.useEffect(()=>{const o=n&&!(e.current&&e.current.contains(document.activeElement))?!a:!0;i(o)},[n,a]);const r=o=>{const u=e.current&&e.current.contains(document.activeElement);a===!1||!e.current||u||o.target instanceof Element&&o.target.matches(`${et.selector} *`)||n&&o.target instanceof HTMLElement&&e.current!==o.target&&!e.current.contains(o.target)&&ue(e.current)},c=o=>{if(a===!1||!e.current)return;const u=tt(e.current),m=nt(e.current);o.target===m&&!o.shiftKey&&(o.preventDefault(),at(e.current)),o.target===u&&o.shiftKey&&(o.preventDefault(),lt(e.current))};return t.createElement(sn,{disabled:l,root:e.current},t.createElement("div",{ref:e},t.createElement(ge,{event:"focusin",handler:r}),t.createElement(be,{keyCode:pe.Tab,keyEvent:"keydown",handler:c}),s))}function dn({instant:a,labelledBy:s,children:n,limitHeight:e,size:l,onClose:i,onExited:r,onEntered:c,setClosing:o,hasToasts:u,...m}){const g=xt(),f=d.useRef(null),h=d.useContext(wt);let p;h&&(p=h.toastMessages);const x=M(B.Modal,l&&B[ve("size",l)],e&&B.limitHeight),b=a?yt:mn;d.useEffect(()=>{f.current&&!f.current.contains(document.activeElement)&&ue(f.current)},[]);const S=()=>{o&&o(!0)},F=()=>{o&&o(!1),i()},T=t.createElement("div",{"aria-live":"assertive"},p?p.map(y=>t.createElement(ae,{visuallyHidden:!0,as:"p",key:y.id},y.content)):null);return t.createElement(b,Object.assign({},m,{nodeRef:f,mountOnEnter:!0,unmountOnExit:!0,timeout:parseInt(g.motion["motion-duration-200"],10),onEntered:c,onExited:r}),t.createElement("div",{className:B.Container,"data-polaris-layer":!0,"data-polaris-overlay":!0,ref:f},t.createElement(cn,null,t.createElement("div",{role:"dialog","aria-modal":!0,"aria-label":s,"aria-labelledby":s,tabIndex:-1,className:B.Dialog},t.createElement("div",{className:x},t.createElement(be,{keyCode:pe.Escape,keyEvent:"keydown",handler:S}),t.createElement(be,{keyCode:pe.Escape,handler:F}),n),T))))}const un={appear:M(B.animateFadeUp,B.entering),appearActive:M(B.animateFadeUp,B.entered),enter:M(B.animateFadeUp,B.entering),enterActive:M(B.animateFadeUp,B.entered),exit:M(B.animateFadeUp,B.exiting),exitActive:M(B.animateFadeUp,B.exited)};function mn({children:a,...s}){return t.createElement(St,Object.assign({},s,{classNames:un}),a)}function Me({pressed:a,onClick:s}){const n=le();return t.createElement(te,{variant:"tertiary",pressed:a,icon:Ve,onClick:s,accessibilityLabel:n.translate("Polaris.Common.close")})}function fn({id:a,children:s,closing:n,titleHidden:e,onClose:l}){const i="400",r="400";return e||!s?t.createElement(N,{position:"absolute",insetInlineEnd:i,insetBlockStart:r,zIndex:"1"},t.createElement(Me,{onClick:l})):t.createElement(N,{paddingBlockStart:"400",paddingBlockEnd:"400",paddingInlineStart:i,paddingInlineEnd:i,borderBlockEndWidth:"025",borderColor:"border",background:"bg-surface-tertiary"},t.createElement(Mt,{columns:{xs:"1fr auto"},gap:"400"},t.createElement(Z,{gap:"400",blockAlign:"center"},t.createElement(ae,{id:a,as:"h2",variant:"headingMd",breakWord:!0},s)),t.createElement(Me,{pressed:n,onClick:l})))}function hn({primaryAction:a,secondaryActions:s,children:n}){const e=a&&ke(a,{variant:"primary"})||null,l=s&&ke(s)||null,i=e||l?t.createElement(Z,{gap:"200"},l,e):null;return t.createElement(Z,{gap:"400",blockAlign:"center"},t.createElement(N,{borderColor:"border",borderBlockStartWidth:"025",padding:"400",width:"100%"},t.createElement(Z,{gap:"400",blockAlign:"center",align:"space-between"},t.createElement(N,null,n),i)))}const Re=200,gn=400,Ce=function({children:s,title:n,titleHidden:e=!1,src:l,iFrameName:i,open:r,instant:c,sectioned:o,loading:u,size:m,limitHeight:g,footer:f,primaryAction:h,secondaryActions:p,onScrolledToBottom:x,activator:b,activatorWrapper:S="div",onClose:F,onIFrameLoad:T,onTransitionEnd:y,noScroll:L}){const[A,P]=d.useState(Re),[_,R]=d.useState(!1),j=d.useId(),D=d.useRef(null),U=le().translate("Polaris.Modal.iFrameTitle");let V,z;const G=d.useCallback(()=>{y&&y()},[y]),Y=d.useCallback(()=>{P(Re);const $=b&&Ie(b)?b&&b.current:D.current;$&&requestAnimationFrame(()=>ue($))},[b]),O=d.useCallback($=>{const H=$.target;if(H&&H.contentWindow)try{P(H.contentWindow.document.body.scrollHeight)}catch{P(gn)}T!=null&&T($)},[T]);if(r){const $=!f&&!h&&!p?null:t.createElement(hn,{primaryAction:h,secondaryActions:p},f),H=o?Ye(s,Ke,{titleHidden:e}):s,W=u?t.createElement(N,{padding:"400"},t.createElement(Z,{gap:"400",align:"center",blockAlign:"center"},t.createElement(Oe,null))):H,k=L?t.createElement(N,{width:"100%",overflowX:"hidden",overflowY:"hidden"},W):t.createElement(Tt,{shadow:!0,className:we.Body,onScrolledToBottom:x},W),w=l?t.createElement("iframe",{name:i,title:U,src:l,className:we.IFrame,onLoad:O,style:{height:`${A}px`}}):k;V=t.createElement(dn,{instant:c,labelledBy:j,onClose:F,onEntered:G,onExited:Y,size:m,limitHeight:g,setClosing:R},t.createElement(fn,{titleHidden:e,id:j,closing:_,onClose:F},n),w,$),z=t.createElement(At,{setClosing:R,onClick:F})}const q=!c,X=b&&!Ie(b)?t.createElement(N,{ref:D,as:S},b):null;return t.createElement(Ee.Provider,{value:!0},X,t.createElement(kt,{idPrefix:"modal"},t.createElement(Xt,{appear:q,enter:q,exit:q},V),z))};function Ie(a){return Object.prototype.hasOwnProperty.call(a,"current")}Ce.Section=Ke;var K={Select:"Polaris-Select",disabled:"Polaris-Select--disabled",error:"Polaris-Select--error",Backdrop:"Polaris-Select__Backdrop",Input:"Polaris-Select__Input",Content:"Polaris-Select__Content",InlineLabel:"Polaris-Select__InlineLabel",Icon:"Polaris-Select__Icon",SelectedOption:"Polaris-Select__SelectedOption",Prefix:"Polaris-Select__Prefix",hover:"Polaris-Select--hover",toneMagic:"Polaris-Select--toneMagic"};const Ne="";function pn({options:a,label:s,labelAction:n,labelHidden:e,labelInline:l,disabled:i,helpText:r,placeholder:c,id:o,name:u,value:m=Ne,error:g,onChange:f,onFocus:h,onBlur:p,requiredIndicator:x,tone:b}){const{value:S,toggle:F}=st(!1),T=d.useId(),y=o??T,L=l?!0:e,A=M(K.Select,g&&K.error,b&&K[ve("tone",b)],i&&K.disabled),P=d.useCallback(O=>{F(),h==null||h(O)},[h,F]),_=d.useCallback(O=>{F(),p==null||p(O)},[p,F]),R=f?O=>f(O.currentTarget.value,y):void 0,j=[];r&&j.push(ot(y)),g&&j.push(`${y}Error`);let E=(a||[]).map(bn);c&&(E=[{label:c,value:Ne,disabled:!0},...E]);const U=l&&t.createElement(N,{paddingInlineEnd:"100"},t.createElement(ae,{as:"span",tone:b&&b==="magic"&&!S?"magic-subdued":"subdued",truncate:!0},s)),V=Cn(E,m),z=V.prefix&&t.createElement("div",{className:K.Prefix},V.prefix),G=t.createElement("div",{className:K.Content,"aria-hidden":!0,"aria-disabled":i},U,z,t.createElement("span",{className:K.SelectedOption},V.label),t.createElement("span",{className:K.Icon},t.createElement(de,{source:it}))),Y=E.map(vn);return t.createElement(rt,{id:y,label:s,error:g,action:n,labelHidden:L,helpText:r,requiredIndicator:x,disabled:i},t.createElement("div",{className:A},t.createElement("select",{id:y,name:u,value:m,className:K.Input,disabled:i,onFocus:P,onBlur:_,onChange:R,"aria-invalid":!!g,"aria-describedby":j.length?j.join(" "):void 0,"aria-required":x},Y),G,t.createElement("div",{className:K.Backdrop})))}function He(a){return typeof a=="string"}function Se(a){return typeof a=="object"&&"options"in a&&a.options!=null}function Be(a){return{label:a,value:a}}function bn(a){if(He(a))return Be(a);if(Se(a)){const{title:s,options:n}=a;return{title:s,options:n.map(e=>He(e)?Be(e):e)}}return a}function Cn(a,s){const n=En(a);let e=n.find(l=>s===l.value);return e===void 0&&(e=n.find(l=>!l.hidden)),e||{value:"",label:""}}function En(a){let s=[];return a.forEach(n=>{Se(n)?s=s.concat(n.options):s.push(n)}),s}function Le(a){const{value:s,label:n,prefix:e,key:l,...i}=a;return t.createElement("option",Object.assign({key:l??s,value:s},i),n)}function vn(a){if(Se(a)){const{title:s,options:n}=a;return t.createElement("optgroup",{label:s,key:s},n.map(Le))}return Le(a)}const xn=({orders:a,delivery_method:s,onSuccessfulDelivery:n})=>{const[e,l]=d.useState([]),[i,r]=d.useState(!1),[c,o]=d.useState(!1),[u,m]=d.useState(""),[g,f]=d.useState(""),[h,p]=d.useState(""),x=d.useCallback(()=>o(!c),[c]),b=d.useCallback(()=>o(!c),[c]),S=d.useCallback(()=>alert("Scrolled to bottom"),[]),F=C.jsx(te,{onClick:b,disabled:a.length==0||s,variant:"primary",children:"Process Delivery"}),T=async()=>{try{r(!0),await Qe.post("/fetch-deliveries",{orders:a,delivery_company:s}).then(y=>{r(!1),console.log("Response:",y.data)})}catch(y){r(!1),console.error("Error posting orders:",y)}};return d.useEffect(()=>{const y=a.map(P=>[P.id,P.customer_name,P.customer_phone,P.item_title,`${P.total_price}`,P.delivery_method_ar,P.city,P.province]),L=a.length,A=a.reduce((P,_)=>P+parseFloat(_.total_price),0).toFixed(2);l(y),f(L+(L!=1?" Items":" Item")),m(A+" DA")},[a]),C.jsxs(C.Fragment,{children:[C.jsx(Ce,{activator:F,open:c,title:"Scrollable content",onClose:b,onScrolledToBottom:S,noScroll:!0,primaryAction:{content:"Deliver with "+s.label,onAction:T,loading:i},secondaryActions:[{content:"Cancel",onAction:x}],children:C.jsx(Ce.Section,{children:C.jsx(ln,{columnContentTypes:["text","text","text","text","numeric","text","text","text"],headings:["Order","Customer","Phone","Item","Total Price","Delivery method","Address","Wilaya"],rows:e,totals:["","","",g,u,"","","",""],showTotalsInFooter:!0,hideScrollIndicator:!0,hoverable:!0,stickyHeader:!0,fixedFirstColumns:!0})})}),h&&C.jsx(Dt,{content:h,onDismiss:()=>{p("")}})]})},yn=({isShown:a=!0,onPress:s,placeholder:n})=>{const[e,l]=d.useState(a);return C.jsx("div",{children:e&&C.jsx(Wt,{title:"API Key Missing",tone:"warning",onDismiss:()=>l(!1),children:C.jsx("p",{onClick:s,style:{cursor:"pointer",textDecoration:"underline"},children:n})})})},Mn=({goToSettings:a})=>{const[s,n]=d.useState([]),[e,l]=d.useState(!0),{axios:i}=Xe(),[r,c]=d.useState([]),[o,u]=d.useState(null),[m,g]=d.useState(null),{selectedResources:f,allResourcesSelected:h,handleSelectionChange:p,clearSelection:x}=Nt(s),b=()=>{n([]),c([]),l(!0),x(),S(o)},S=(D=null)=>{i.get("/get-not-fulfilled-orders",{params:{page_info:D}}).then(E=>{console.log(E.data.orders),u(E.data.next_page),g(E.data.previous_page),n(y(E.data.orders)),l(!1),c(E.data.deliveries)}).catch(E=>{l(!1)})},F=()=>{n([]),l(!0),x(),S(o)},T=()=>{n([]),l(!0),x(),S(m)},y=D=>D.map(E=>{try{return{id:E.id,order:`#${E.order}`,created_at:`${E.created_at}`,customer_name:`${E.customer.name}`,customer_phone:`${E.customer.phone}`,paymentStatus:`${E.paymentStatus}`,total_price:`${E.total_price}`,subtotal_price:`${E.subtotal_price}`,shipping_price:`${E.shipping_price}`,fulfillment_status:`${E.fulfillment_status}`,delivery_method:`${E.delivery_method}`,delivery_method_ar:`${E.delivery_method_ar.length===0?null:E.delivery_method_ar[0].title}`,item_title:`${E.item.title}`,variant_title:`${E.item.variant_title}`,quantity:`${E.item.quantity}`,province:`${E.shipping_address.province}`,city:`${E.shipping_address.city}`,is_delivered:E.fulfillment_status?C.jsx(ne,{progress:"complete",tone:"success",children:"Yes"}):C.jsx(ne,{progress:"incomplete",children:"No"}),all:`${E}`}}catch(U){return console.log("Error in processing order ID:",E.id,"Error details:",U),{error:!0,message:"Error processing order",orderId:E.id}}});d.useEffect(()=>{S(o)},[]);const L={singular:"order",plural:"orders"},A=()=>s.filter(D=>f.includes(D.id)),P=s.map(({id:D,order:E,created_at:U,customer_name:V,customer_phone:z,paymentStatus:G,total_price:Y,subtotal_price:O,shipping_price:q,fulfillment_status:X,delivery_method:$,delivery_method_ar:H,item_title:W,variant_title:k,quantity:w,province:se,city:ie,is_delivered:ce},Ge)=>C.jsxs(I.Row,{id:D,selected:f.includes(D),position:Ge,children:[C.jsx(I.Cell,{children:C.jsx(ae,{variant:"bodyMd",fontWeight:"bold",as:"span",children:E})}),C.jsx(I.Cell,{children:U}),C.jsx(I.Cell,{children:V}),C.jsx(I.Cell,{children:z}),C.jsx(I.Cell,{children:G}),C.jsx(I.Cell,{children:Y}),C.jsx(I.Cell,{children:O}),C.jsx(I.Cell,{children:q}),C.jsx(I.Cell,{children:X}),C.jsx(I.Cell,{children:H==="التوصيل للمكتب"?C.jsx(ne,{tone:"info-strong",children:H}):H==="التوصيل للمنزل"?C.jsx(ne,{tone:"attention-strong",children:H}):C.jsx(ne,{tone:"critical-strong",children:H})}),C.jsx(I.Cell,{children:C.jsx(ae,{as:"span",alignment:"start",numeric:!0,children:W})}),C.jsx(I.Cell,{children:k}),C.jsx(I.Cell,{children:w}),C.jsx(I.Cell,{children:C.jsx(ne,{tone:"info-strong",children:se})}),C.jsx(I.Cell,{children:ie}),C.jsx(I.Cell,{children:ce})]},D)),[_,R]=d.useState({label:"ZR Express",value:"zr_express"}),j=d.useCallback((D,E)=>R({value:D,label:E}),[]);return C.jsxs(C.Fragment,{children:[e&&C.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:C.jsx(Oe,{accessibilityLabel:"Spinner example",size:"large"})}),C.jsx("div",{hidden:e,children:C.jsxs(Rt,{children:[C.jsx(yn,{onPress:a,placeholder:"Please Enter zr-express api Token"}),C.jsx(It,{children:C.jsxs(We,{gap:"loose",children:[C.jsx(pn,{label:"Deliver with: ",labelInline:!0,options:r,onChange:j,value:_.value}),C.jsx(xn,{orders:A(),delivery_method:_,onSuccessfulDelivery:b}),r.length===0&&C.jsx("p",{onClick:a,style:{cursor:"pointer",textDecoration:"underline"},children:"Please Enter zr-express api Token"})]})}),C.jsx(Pt,{children:C.jsx(I,{condensed:Ae().smDown,resourceName:L,itemCount:s.length,selectedItemsCount:h?"All":f.length,onSelectionChange:p,headings:[{title:"Order"},{title:"Date ?"},{title:"Customer"},{title:"Phone"},{title:"Payment status"},{title:"Total price"},{title:"Price item"},{title:"Shipping"},{title:"Fulfill status"},{title:"Delivery"},{title:"Item",alignment:"start"},{title:"Variant"},{title:"Quantity"},{title:"Wilaya"},{title:"Location"},{title:"is Delivered"}],pagination:{hasPrevious:m!=null,hasNext:o!=null,onNext:F,onPrevious:T},children:P})})]})})]})};export{Mn as default};
